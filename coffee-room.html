<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CC² · Coffee Shop</title>

<style>
:root{
  --bg1:#2b1b3f;
  --bg2:#4a2f6f;
  --bg3:#7b5c8f;
  --surface:#5e4676;
  --surface2:#6a4f86;
  --text:#f2eef7;
  --muted:rgba(242,238,247,.7);
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:
    radial-gradient(1200px at 15% 10%, var(--bg3), transparent),
    radial-gradient(900px at 85% 90%, #8b6fa0, transparent),
    linear-gradient(180deg,var(--bg1),var(--bg2));
  color:var(--text);
}

.topbar{
  padding:20px 28px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.topbar a{
  color:var(--text);
  text-decoration:none;
  font-size:14px;
  opacity:.8;
}

.container{
  max-width:900px;
  margin:0 auto;
  padding:24px 28px 60px;
}

.selector{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
  margin-bottom:32px;
}

select{
  width:100%;
  padding:14px 18px;
  border-radius:999px;
  border:none;
  background:var(--surface);
  color:var(--text);
  font-size:14px;
}

.board{
  background:linear-gradient(145deg,var(--surface),var(--surface2));
  border-radius:48px;
  padding:36px 32px 28px;
  box-shadow:
    0 28px 60px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.08);
  animation:breathe 10s ease-in-out infinite;
}

.board h2{
  margin:0 0 10px;
  font-size:22px;
  font-weight:600;
}

.board p{
  margin:0 0 28px;
  font-size:14px;
  color:var(--muted);
}

.notes{
  display:flex;
  flex-direction:column;
  gap:16px;
  margin-bottom:28px;
}

.note{
  background:rgba(0,0,0,.22);
  border-radius:22px;
  padding:16px 18px;
  font-size:14px;
  line-height:1.6;
}

.post{
  display:flex;
  gap:12px;
}

textarea{
  flex:1;
  padding:14px 16px;
  border-radius:20px;
  border:none;
  resize:none;
  background:#241536;
  color:var(--text);
  font-family:inherit;
  font-size:14px;
}

button{
  padding:14px 22px;
  border-radius:999px;
  border:none;
  background:#241536;
  color:var(--text);
  font-size:14px;
  cursor:pointer;
  transition:
    transform .25s cubic-bezier(.4,0,.2,1),
    box-shadow .25s cubic-bezier(.4,0,.2,1);
}

button:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 22px rgba(0,0,0,.35);
}

@keyframes breathe{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.012)}
}
</style>
</head>

<body>

<div class="topbar">
  <a href="index.html">← Home</a>
  <span>CC² · Coffee Shop</span>
  <span></span>
</div>

<div class="container">

  <div class="selector">
    <select id="county">
      <option value="">Choose a county</option>
      <option>Galway</option>
      <option>Dublin</option>
      <option>Cork</option>
      <option>Mayo</option>
      <option>Donegal</option>
      <option>Antrim</option>
      <option>Down</option>
      <option>Leeds</option>
      <option>Manchester</option>
      <option>London</option>
    </select>

    <select id="interest">
      <option value="">Choose an interest</option>
      <option>Coffee & cafés</option>
      <option>Walking & hiking</option>
      <option>Books</option>
      <option>Music</option>
      <option>Parenting</option>
      <option>Mental wellbeing</option>
      <option>Creative projects</option>
      <option>Just moved here</option>
      <option>Night owls</option>
      <option>Early birds</option>
    </select>
  </div>

  <div class="board">
    <h2 id="roomTitle">Pick a table</h2>
    <p id="roomDesc">Choose a county and an interest to join a shared conversation.</p>

    <div class="notes" id="notes"></div>

    <div class="post">
      <textarea id="message" rows="2" placeholder="Leave a thought, a hello, or just listen for a while…"></textarea>
      <button onclick="post()">Post</button>
    </div>
  </div>

</div>

<script>
const notesEl = document.getElementById("notes");
const titleEl = document.getElementById("roomTitle");
const descEl = document.getElementById("roomDesc");

function roomKey(){
  const c = county.value;
  const i = interest.value;
  return c && i ? `cc2_coffee_${c}_${i}` : null;
}

function loadRoom(){
  const key = roomKey();
  notesEl.innerHTML = "";
  if(!key){
    titleEl.innerText = "Pick a table";
    descEl.innerText = "Choose a county and an interest to join a shared conversation.";
    return;
  }
  titleEl.innerText = `${county.value} · ${interest.value}`;
  descEl.innerText = "A shared table. Read first if you like.";

  const msgs = JSON.parse(localStorage.getItem(key)) || [];
  msgs.forEach(m=>{
    const d=document.createElement("div");
    d.className="note";
    d.innerText=m;
    notesEl.appendChild(d);
  });
}

county.onchange = interest.onchange = loadRoom;

function post(){
  const key = roomKey();
  if(!key || !message.value.trim()) return;
  const msgs = JSON.parse(localStorage.getItem(key)) || [];
  msgs.push(message.value.trim());
  localStorage.setItem(key, JSON.stringify(msgs));
  message.value="";
  loadRoom();
}
</script>

</body>
</html>