<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create account</title>

<style>
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: linear-gradient(180deg, #f7cfd8, #fde9ef);
}

.card {
  max-width: 420px;
  margin: 70px auto;
  background: white;
  padding: 32px;
  border-radius: 22px;
}

h1 {
  text-align: center;
  margin-bottom: 8px;
}

.sub {
  text-align: center;
  color: #666;
  margin-bottom: 24px;
}

input {
  width: 100%;
  padding: 14px;
  margin-bottom: 14px;
  border-radius: 12px;
  border: 1px solid #ccc;
  font-size: 16px;
}

.toggle {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 20px;
  font-size: 14px;
}

button {
  width: 100%;
  padding: 14px;
  border-radius: 14px;
  border: none;
  background: #f3a7b7;
  color: white;
  font-size: 16px;
  font-weight: bold;
}

a {
  display: block;
  text-align: center;
  margin-top: 18px;
  color: #666;
  text-decoration: none;
}
</style>
</head>

<body>

<div class="card">
  <h1>Create account ðŸ’—</h1>
  <div class="sub">Friendship first. No pressure. Ever.</div>

  <input id="email" type="email" placeholder="Email">
  <input id="password" type="password" placeholder="Password (min 6 characters)">

  <div class="toggle">
    <input type="checkbox" id="showPass">
    <label for="showPass">Show password</label>
  </div>

  <button onclick="signup()">Create account</button>

  <a href="login.html">Already have an account?</a>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyDs3isKSoDrgTV00P0XQbm3RP5RZOufvIE",
  authDomain: "ccsq-c2e3e.firebaseapp.com",
  projectId: "ccsq-c2e3e",
  storageBucket: "ccsq-c2e3e.firebasestorage.app",
  messagingSenderId: "1092085359746",
  appId: "1:1092085359746:web:9184879638b1183ce4009b"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

// show password toggle â€” FIXED
showPass.addEventListener("change", () => {
  password.type = showPass.checked ? "text" : "password";
});

window.signup = async () => {
  const emailVal = email.value.trim();
  const passVal = password.value;

  if (!emailVal || !passVal) {
    alert("Please fill in both fields");
    return;
  }

  if (passVal.length < 6) {
    alert("Password must be at least 6 characters");
    return;
  }

  try {
    await createUserWithEmailAndPassword(auth, emailVal, passVal);
    window.location.href = "profilec.html";
  } catch (err) {
    alert(err.message);
  }
};
</script>

</body>
</html>