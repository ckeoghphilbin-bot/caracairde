<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>CaraCairde ðŸ’—</title>

<style>
:root {
  --blush: #f7c6d9;
  --pink: #f3a7c3;
  --rose: #e78fb3;
  --blue: #7bb7d6;
  --cream: #fff7fa;
  --text: #444;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: linear-gradient(180deg, var(--blush), var(--cream));
  color: var(--text);
  min-height: 100vh;
}

.container {
  max-width: 420px;
  margin: auto;
  padding: 24px;
}

h1 {
  text-align: center;
  font-size: 2.4rem;
  margin-bottom: 8px;
}

.tagline {
  text-align: center;
  opacity: 0.8;
  margin-bottom: 24px;
}

.card {
  background: white;
  border-radius: 22px;
  padding: 24px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.08);
}

input {
  width: 100%;
  padding: 14px;
  margin-bottom: 12px;
  border-radius: 14px;
  border: 1px solid #eee;
  font-size: 1rem;
}

button {
  width: 100%;
  padding: 14px;
  border-radius: 16px;
  border: none;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  margin-top: 8px;
}

.primary {
  background: var(--rose);
  color: white;
}

.secondary {
  background: var(--blue);
  color: white;
}

.link {
  text-align: center;
  margin-top: 12px;
  color: var(--blue);
  cursor: pointer;
}

.hidden {
  display: none;
}

.small {
  font-size: 0.9rem;
  opacity: 0.7;
  text-align: center;
  margin-top: 16px;
}

.toggle {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.9rem;
  margin-bottom: 12px;
}
</style>
</head>

<body>

<div class="container">

  <h1>CaraCairde</h1>
  <div class="tagline">
    Local friendship Â· shared interests Â· no dating Â· no pressure
  </div>

  <!-- LOGIN -->
  <div class="card" id="loginCard">
    <h3>Log in</h3>

    <input id="loginEmail" type="email" placeholder="Email" />
    <input id="loginPassword" type="password" placeholder="Password" />

    <div class="toggle">
      <input type="checkbox" onclick="togglePassword('loginPassword')" />
      Show password
    </div>

    <button class="primary" onclick="logIn()">Log in</button>

    <div class="link" onclick="forgotPassword()">Forgot password?</div>
    <div class="link" onclick="showSignup()">Create an account</div>
  </div>

  <!-- SIGN UP -->
  <div class="card hidden" id="signupCard">
    <h3>Create account</h3>

    <input id="signupEmail" type="email" placeholder="Email" />
    <input id="signupPassword" type="password" placeholder="Password (min 6)" />
    <input id="signupConfirm" type="password" placeholder="Confirm password" />

    <div class="toggle">
      <input type="checkbox" onclick="togglePassword('signupPassword','signupConfirm')" />
      Show password
    </div>

    <button class="secondary" onclick="signUp()">Sign up</button>

    <div class="link" onclick="showLogin()">Back to login</div>
  </div>

  <div class="small">
    A calm place to meet people â€” not perform.
  </div>

</div>

<!-- FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import {
  getAuth,
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  sendPasswordResetEmail
} from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyDs3isKSoDrgTV00P0XQbm3RP5RZOufvIE",
  authDomain: "ccsq-c2e3e.firebaseapp.com",
  projectId: "ccsq-c2e3e",
  storageBucket: "ccsq-c2e3e.appspot.com",
  messagingSenderId: "1092085359746",
  appId: "1:1092085359746:web:9184879638b1183ce4009b"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

window.togglePassword = (...ids) => {
  ids.forEach(id => {
    const el = document.getElementById(id);
    el.type = el.type === "password" ? "text" : "password";
  });
};

window.showSignup = () => {
  loginCard.classList.add("hidden");
  signupCard.classList.remove("hidden");
};

window.showLogin = () => {
  signupCard.classList.add("hidden");
  loginCard.classList.remove("hidden");
};

window.signUp = async () => {
  const email = signupEmail.value.trim();
  const pass = signupPassword.value;
  const confirm = signupConfirm.value;

  if (!email || !pass || !confirm) {
    alert("Please fill everything in ðŸ’—");
    return;
  }

  if (pass !== confirm) {
    alert("Passwords donâ€™t match");
    return;
  }

  try {
    await createUserWithEmailAndPassword(auth, email, pass);
    alert("Account created ðŸ’•");
    showLogin();
  } catch (e) {
    alert(e.message);
  }
};

window.logIn = async () => {
  const email = loginEmail.value.trim();
  const pass = loginPassword.value;

  if (!email || !pass) {
    alert("Enter email & password");
    return;
  }

  try {
    await signInWithEmailAndPassword(auth, email, pass);
    alert("Logged in ðŸ’—");
  } catch (e) {
    alert(e.message);
  }
};

window.forgotPassword = async () => {
  const email = loginEmail.value.trim();
  if (!email) {
    alert("Enter your email first");
    return;
  }
  try {
    await sendPasswordResetEmail(auth, email);
    alert("Password reset sent ðŸ’Œ");
  } catch (e) {
    alert(e.message);
  }
};
</script>

</body>
</html>